angular.module("roy.signalr-hub",[]).constant("$",window.jQuery).provider("hubFactory",function(){"use strict";this.$get=["$rootScope","$timeout","$",function(a,b,c){var d=function(a,c){return"function"==typeof c?function(){var d=arguments;b(function(){c.apply(a,d)},0)}:angular.noop};return function(a,b){b=angular.extend({hub:c.hubConnection(),logging:!1,qs:{}},b);var e=b.hub,f=b.logging,g=b.qs,h=e.createHubProxy(a),i={hub:e,proxy:h,connect:function(a){return e.logging=f,e.qs=g,e.start(a)},disconnect:function(){e.stop()},on:function(a,b){h.on(a,d(h,b))},off:function(a,b){h.off(a,b)},invoke:function(a,b){var c=arguments;return j(function(){h.invoke.apply(h,c)})},stateChanged:function(a){return j(function(){e.stateChanged(d(e,a))})},error:function(a){e.error(d(e,a))}};i.promise=i.connect();var j=function(a){return i.promise.then(function(){return a()})};return i}}]});