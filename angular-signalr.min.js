angular.module("roy.signalr-hub",[]).constant("$",window.jQuery).provider("hubFactory",function(){"use strict";this.$get=["$rootScope","$timeout","$",function(a,b,c){var d=function(a,c){return"function"==typeof c?function(){var d=arguments;b(function(){c.apply(a,d)},0)}:angular.noop};return function(b,e){e=angular.extend({hub:c.hubConnection(),logging:!1,qs:{}},e);var f=e.hub,g=e.logging,h=e.qs,i=f.createHubProxy(b),j={hub:f,proxy:i,connect:function(a){return f.logging=g,f.qs=h,f.start(a)},disconnect:function(){f.stop()},on:function(a,b){i.on(a,b.__ng=d(i,b))},off:function(a,b){b&&b.__ng&&(b=b.__ng),i.off(a,b)},invoke:function(a,b){var c=arguments;return k(function(){i.invoke.apply(i,c)})},stateChanged:function(a){return k(function(){f.stateChanged(d(f,a))})},error:function(a){f.error(d(f,a))},forward:function(b,c){c||(c=a),b instanceof Array==!1&&(b=[b]),b.forEach(function(a){var b=d(i,function(){c.$broadcast("hub:"+a)});i.on(a,b),c.$on("$destroy",function(){i.off(a,b)})})}};j.promise=j.connect();var k=function(a){return j.promise.then(function(){return a()})};return j}}]});